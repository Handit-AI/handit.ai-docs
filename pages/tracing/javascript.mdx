# JavaScript Tracing

Learn how to implement tracing in your JavaScript/Node.js applications using Handit.ai's JavaScript SDK.

## Installation

```bash
npm install @handit/sdk
```

## Basic Usage

```javascript
import { Client, Tracer } from '@handit/sdk';

// Initialize the client
const client = new Client({ apiKey: 'your-api-key' });

// Create a tracer
const tracer = new Tracer(client);

// Start a trace
const trace = await tracer.startTrace('model-inference');

try {
    // Your model inference code here
    const result = await client.predict({
        modelId: 'your-model-id',
        input: 'your input'
    });
    
    // Add custom attributes
    trace.setAttribute('inputLength', 'your input'.length);
    trace.setAttribute('outputLength', result.length);
    
    // End the trace
    await trace.end();
} catch (error) {
    // Handle errors
    trace.setStatus('ERROR');
    trace.setAttribute('errorMessage', error.message);
    await trace.end();
}
```

## Advanced Features

### Custom Spans

```javascript
const trace = await tracer.startTrace('main-operation');

try {
    // Create nested spans
    const preprocessingSpan = await trace.startSpan('preprocessing');
    // Preprocessing code
    preprocessingSpan.setAttribute('preprocessingTime', 0.5);
    await preprocessingSpan.end();
    
    const inferenceSpan = await trace.startSpan('inference');
    // Inference code
    inferenceSpan.setAttribute('inferenceTime', 1.2);
    await inferenceSpan.end();
    
    await trace.end();
} catch (error) {
    await trace.end();
    throw error;
}
```

### Async/Await Support

```javascript
async function processWithTracing() {
    const trace = await tracer.startTrace('async-operation');
    
    try {
        const result = await someAsyncOperation();
        trace.setAttribute('result', result);
        await trace.end();
        return result;
    } catch (error) {
        trace.setStatus('ERROR');
        trace.setAttribute('error', error.message);
        await trace.end();
        throw error;
    }
}
```

## Best Practices

1. **Use Meaningful Names**: Give your traces and spans descriptive names
2. **Add Relevant Attributes**: Include useful metrics and metadata
3. **Handle Errors**: Always set appropriate status and error information
4. **Keep Traces Focused**: Create separate traces for different operations
5. **Clean Up Resources**: Always end your traces and spans

## Viewing Traces

You can view your traces in the Handit.ai dashboard under the "Tracing" section. The dashboard provides:

- Trace visualization
- Performance metrics
- Error analysis
- Resource usage statistics

## API Reference

For detailed API documentation, see the [JavaScript SDK Reference](/sdk/javascript). 